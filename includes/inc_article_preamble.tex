% --- Set up FONTS to use ---
\usepackage[bitstream-charter]{mathdesign}
\DeclareSymbolFont{usualmathcal}{OMS}{cmsy}{m}{n}
\DeclareSymbolFontAlphabet{\mathcal}{usualmathcal}
\usepackage{fontspec}
\setmainfont[Scale=0.9, Ligatures=TeX]{Charis SIL}
\defaultfontfeatures[Charis SIL]{Script=latn}
\usepackage{microtype}
\microtypesetup{draft=true}                                % see README
% --- END code for FONTS ---

% --- Style, etc. ---
\usepackage[runin]{abstract}                               % To avoid an extra line saying ``Abstract''. LoL.
\usepackage{url}                                           % for making urls clickable
\usepackage{graphicx}                                      % for graphics inclusion, ...
\usepackage[font=small,labelfont=bf]{caption}              % proper formatting for caption text
% \usepackage{indentfirst}                                 % needed when writing in Portuguese (first paragraph is always indented)
% --- END style etc. ---

% --- Page LAYOUT ---
% **1 OR 2 COLUMNS** Of the next three lines: use first for 1column, next two for 2column
% ALSO CHECK '\documentclass' IN MAIN TeX FILE!
\usepackage[top=2.5cm, bottom=2.5cm, left=3.5cm, right=3.5cm]{geometry}
% \usepackage[top=2.5cm, bottom=2.5cm, left=1.5cm, right=1.5cm]{geometry}
% \setlength{\columnsep}{20pt}
% --- END Page LAYOUT ---

%---------------------
% --- CUSTOM STUFF ---
%---------------------
\input{includes/inc_custom_tex}                            % this is almost always needed
%-------------------------
% --- END CUSTOM STUFF ---
%-------------------------

% --- Bibliography ---
%
% --- --- Languages --- ---
% Language must be set before biblatex is used, or error ensues.
\usepackage{polyglossia}
\setmainlanguage{english}
\setkeys{english}{variant=british}
% \setmainlanguage{portuges}
\usepackage{csquotes}                                      % Suggested by polyglossia
% END --- --- Languages --- ---
\usepackage[ % options to be optimised TODO
  style=verbose
 ,backend=biber
 ,backref=true
 ,style=numeric-comp  % numerical-compressed
 ,sorting=nyt         % name, year, title
 ,sortcites=true      % some other example options ...
 ,block=none
 ,indexing=false
 ,citereset=none
 ,isbn=true
 ,url=true
 ,doi=true            % prints doi
 ,natbib=true         % if you need natbib functions
 ,urldate=long        % shown as: Month daynr, Year
]{biblatex} 
% *** IMPORTANT NOTE ***: Bibliographic entries that contain *any* date, *MUST* set 
% it in AMERICAN FORMAT: YYYY-MM-DD, otherwise biblatex will IGNORE IT! ***
% ---
% Make author surname show up first.
\DeclareNameAlias{sortname}{last-first}
\DeclareNameAlias{default}{last-first}
% Make reference list by bold number followed by dot.
\DeclareFieldFormat{labelnumberwidth}{\mkbibbold{#1.}}
% --- END Bibliography ---

% --- HYPER references et al.---
% ***NOTE*** The hyperref package if used, MUST BE THE LAST ONE included!
%
\usepackage{xcolor}                                        % for MidnightBlue colour!
\usepackage[pagebackref=false,                             % biblatex takes care of this
            bookmarks=true,
            colorlinks=true,
            linkcolor=MidnightBlue,
            urlcolor=MidnightBlue,
            citecolor=MidnightBlue,
            linktocpage=true]{hyperref}
\hypersetup{pdfencoding=auto}                              % LuaTeX garbles TOC in pdf viewer without this (see: http://tex.stackexchange.com/questions/24445/hyperref-lualatex-and-unicode-bookmarks-issue-garbled-page-numbers-in-ar-for-l)
% --- END HYPER references et al.---
